{% extends 'base.html' %}
{% load static %}
{% block title %} Order Details {% endblock %}
  {% block head %}
    <script src="https://cdn.tailwindcss.com"></script>
{% endblock %}
{% block content %}


<div class="max-w-4xl mx-auto bg-white shadow-lg rounded-lg p-6">
    <h2 class="text-2xl font-semibold text-gray-700 mb-2">
        Order #{{ order.order_no }} - {{ order.suppliers.name }}
    </h2>

    <p class="text-gray-600 mb-4">
        Date: <strong>{{ order.date }}</strong> &nbsp; | &nbsp;
        Status:
        {% if order.status == "PENDING" %}
            <span class="text-yellow-700 bg-yellow-200 px-2 py-1 rounded text-sm">{{ order.status }}</span>
        {% elif order.status == "PROCESSING" %}
            <span class="text-blue-700 bg-blue-200 px-2 py-1 rounded text-sm">{{ order.status }}</span>
        {% elif order.status == "COMPLETED" %}
            <span class="text-green-700 bg-green-200 px-2 py-1 rounded text-sm">{{ order.status }}</span>
        {% else %}
            <span class="text-red-700 bg-red-200 px-2 py-1 rounded text-sm">{{ order.status }}</span>
        {% endif %}
    </p>

    <table class="min-w-full border border-gray-300 rounded-md overflow-hidden">
        <thead class="bg-gray-200 text-gray-800">
            <tr>
                <th class="px-4 py-2 border">Product</th>
                <th class="px-4 py-2 border">Qty</th>
                <th class="px-4 py-2 border">Rate</th>
                <th class="px-4 py-2 border">Subtotal</th>
            </tr>
        </thead>
        <tbody>
            {% for item in products %}
            <tr class="hover:bg-gray-50">
                <td class="px-4 py-2 border">{{ item.product.name }}</td>
                <td class="px-4 py-2 border text-center">{{ item.quantity }}</td>
                <td class="px-4 py-2 border">{{ item.rate }}</td>
                <td class="px-4 py-2 border">{{ item.get_subtotal }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <p class="text-right mt-4 text-lg font-semibold">
        Total Amount: NPR {{ order.total_amount }}
    </p>

    <a href="{% url 'orders_list' %}"
       class="mt-6 inline-block px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md">
        Back to List
    </a>
</div>

{% endblock %}
